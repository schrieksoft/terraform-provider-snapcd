---
page_title: "snapcd_namespace Resource - snapcd"
subcategory: "Namespaces"
description: |-
  Manages a Namespace in Snap CD.
---

# snapcd_namespace (Resource)

Manages a Namespace in Snap CD.


## Example Usage

```terraform
data "snapcd_stack" "default" {
  name = "default"
}

resource "snapcd_namespace" "mynamespace" {
  name     = "mynamespace"
  stack_id = data.snapcd_stack.default.id
}

resource "snapcd_runner_pool" "myrunnerpool" {
  name = "myrunnerpool"
}

resource "snapcd_module" "mymodule" {
  name                = "mymodule"
  namespace_id        = snapcd_namespace.mynamespace.id
  source_revision     = "main"
  source_url          = "https://github.com/schrieksoft/snapcd-samples.git"
  source_subdirectory = "getting-started/two-module-dag/module2"
  runner_pool_id      = data.snapcd_runner_pool.default.id
  default_engine      = "OpenTofu"

  // example of how to set optional (default) backend args for "init"
  default_init_backend_args = <<EOT
    -backend-config="storage_account_name=somestorageaccount" \
    -backend-config="container_name=terraform-states" \
    -backend-config="key=mystatefile.tfstate" \
    -backend-config="resource_group_name=someresourcegroup" \
    -backend-config="subscription_id=xxxx-xxx-xxx-xxx-xxxx" \
    -backend-config="tenant_id=zzzz-zzz-zzz-zzz-zzzzzz"
  EOT
}


// If you declare a Namespace Param called "myvar_declared_on_namespace", you can map it to "myvar" as follows:
// Note that you can do this mapping irrespective of whether the Namespace Param's "Usage Mode" was set to "UseByDefault" or "UseIfSelected". 
// However, it it was set to "UseByDefault", both "var.myvar_declared_on_namespace" and "var.myvar" will be provided as input variables
// when the Module executes
resource "snapcd_module_param_from_namespace" "myparam" {
  name           = "myvar"
  reference_name = "myvar_declared_on_namespace"
  module_id      = snapcd_module.mymodule.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the Namespace. Must be unique in combination with `stack_id`.
- `stack_id` (String) ID of the Namespace's parent Stack.

### Optional

- `default_apply_after_hook` (String) Shell script that should be executed after the 'Apply' step of any deployment is run. All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `default_apply_before_hook` (String) Shell script that should be executed before the 'Apply' step of any deployment is run. All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `default_destroy_after_hook` (String) Shell script that should be executed after the 'Destroy' step of any deployment is run. All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `default_destroy_before_hook` (String) Shell script that should be executed before the 'Destroy' step of any deployment is run. All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `default_engine` (String) Determines which binary will be used during deployment. Must be one of 'OpenTofu' and 'Terraform'. Setting this to 'OpenTofu' will use `tofu`. Setting it to 'Terraform' will use `terraform`. All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `default_init_after_hook` (String) Shell script that should be executed after the 'Init' step of any deployment is run.All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `default_init_backend_args` (String) Arguments to pass to the 'init' command in order to set the backend. This should be a text block.All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `default_init_before_hook` (String) Shell script that should be executed before the 'Init' step of any deployment is run.All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `default_output_after_hook` (String) Shell script that should be executed after the 'Output' step of any deployment is run. All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `default_output_before_hook` (String) Shell script that should be executed before the 'Output' step of any deployment is run. All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `default_output_secret_store_id` (String) The ID of the Secret Store that will be used to store this Module's outputs. Note that for an 'Output' step to successfully use this Secret Store, it must either be deployed as `is_assigned_to_all_scopes=true`, or assigned via module/namespace/stack assignment. All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `default_plan_after_hook` (String) Shell script that should be executed after the 'Plan' step of any deployment is run. All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `default_plan_before_hook` (String) Shell script that should be executed before the 'Plan' step of any deployment is run. All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `default_plan_destroy_after_hook` (String) Shell script that should be executed after the 'PlanDestroy' step of any deployment is run. All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `default_plan_destroy_before_hook` (String) Shell script that should be executed before the 'PlanDestroy' step of any deployment is run. All modules in this Namespace will use this value, unless explicitly overriden on the Module itself.
- `trigger_behaviour_on_modified` (String) Behaviour with respect to applying modules within the Stack if any of the fields on the Stack resource has changed. Must be one of 'TriggerAllImmediately' or 'DoNotTrigger'. Setting to 'TriggerAllImmediately' will trigger *all* Modules within the Stack to run an apply Job simultaneously. Setting to 'DoNotTrigger' will do nothing. The default (and recommended) setting is 'DoNotTrigger'.

### Read-Only

- `id` (String) Unique ID of the Namespace

## Import

Import is supported using the following syntax:

```shell
RESOURCE_ID="12345678-90ab-cdef-1234-56789abcdef0"
terraform import snapcd_namespace.this $RESOURCE_ID
```
